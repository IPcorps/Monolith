"use strict";const sw=self;sw.skipWaiting(),sw.addEventListener("fetch",(e=>{let t=new URL(e.request.url).pathname.substr(1);e.respondWith(new Promise((s=>{""===t&&(t="index.html");const n=indexedDB.open("Mono");n.onsuccess=()=>{const o=n.result;if(o.objectStoreNames.length){const n=o.transaction("monoRes","readonly").objectStore("monoRes").get(t);n.onsuccess=()=>{if(n.result){const e=n.result.d;e.arrayBuffer().then((t=>{s(new Response(t,{headers:{"Content-Type":e.type}})),o.close()}))}else r(e.request)}}else r(e.request);function r(e){o.close(),fetch(e).then(s).catch((()=>s(new Response("Hmm...something strange has happened &#129300 \n                    ...it is possible that the application is not installed, and there is no Internet at the same time.",{headers:{"Content-Type":"text/html"}}))))}}})))}));