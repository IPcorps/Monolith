"use strict";const sw=self;function getRes(e){return new Promise((s=>{""===e&&(e="index.html");const t=indexedDB.open("Mono");t.onsuccess=()=>{const n=t.result;if(n.objectStoreNames.length){const t=n.transaction("monoRes","readonly").objectStore("monoRes").get(e);t.onsuccess=()=>{if(t.result){const e=t.result.d;e.arrayBuffer().then((t=>{s(new Response(t,{headers:{"Content-Type":e.type}})),n.close()}))}else o(e)}}else o(e);function o(e){n.close(),fetch(e).then(s).catch((()=>s(new Response("Hmm...something strange has happened &#129300 \n                    ...it is possible that the application is not installed, and there is no Internet at the same time.",{headers:{"Content-Type":"text/html"}}))))}}}))}sw.skipWaiting(),sw.addEventListener("fetch",(e=>{const s=new URL(e.request.url).pathname.substr(1);"GET"===e.request.method&&["","manifest.json","index.css","mono.js","index.js","sw.js","ico/on.ico","ico/off.ico","ico/logo.png","ico/logo_512.png"].includes(s)&&e.respondWith(getRes(s))}));