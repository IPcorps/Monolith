"use strict";const sw=self;function getRes(e){return new Promise((t=>{""===e&&(e="index.html");const s=indexedDB.open("Mono");s.onsuccess=()=>{const n=s.result;if(n.objectStoreNames.length){const n=s.result.transaction("monoRes","readonly").objectStore("monoRes").get(e);n.onsuccess=()=>{if(n.result){const e=n.result.d;e.text().then((s=>{t(new Response(s,{headers:{"Content-Type":e.type}}))}))}else t(new Response("Hmm...somewhere that got lost on the way &#129300 maybe a bug",{headers:{"Content-Type":"text/html"}}))}}else n.close(),fetch(e).then(t).catch((()=>t(new Response("Hmm...perhaps there is no internet &#129300",{headers:{"Content-Type":"text/html"}}))))}}))}sw.skipWaiting(),sw.addEventListener("fetch",(e=>{const t=e.request.url.split("/").pop();"GET"===e.request.method&&["","manifest.json","index.css","mono.js","index.js","sw.js","favicon.ico"].includes(t)&&e.respondWith(getRes(t))}));